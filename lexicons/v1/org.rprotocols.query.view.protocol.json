{
  "lexicon": 1,
  "id": "org.rprotocols.query.view.protocol",
  "type": "query",
  "parameters": {
    "type": "params",
    "required": ["uri"],
    "properties": {
      "uri": { "type": "string", "description": "at:// URI of the protocol" }
    }
  },
  "output": {
    "type": "object",
    "required": ["protocol"],
    "properties": {
      "protocol": { "type": "unknown", "description": "Hydrated record with lineage and counts" },
      "counts": {
        "type": "object",
        "properties": {
          "adoptions": { "type": "integer" },
          "followers": { "type": "integer" }
        }
      },
      "lineage": {
        "type": "object",
        "properties": {
          "prev": { "type": "array", "items": { "type": "string" } },
          "forks": { "type": "array", "items": { "type": "string" } }
        }
      },
      "nextReviewAt": { "type": "string", "format": "datetime" }
    }
  }
}
